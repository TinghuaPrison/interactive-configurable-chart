<!DOCTYPE html>
<meta charset="utf-8">
<html>

<head>

</head>

<body>

    <div id="canvasContainer" style="width: 400px; height: 600px; overflow: scroll;">
        <canvas id="myCanvas" width="500" height="600"></canvas>
    </div>

    <script>
        // 获取画布和容器元素的引用
        const canvas = document.getElementById("myCanvas");
        const container = document.getElementById("canvasContainer");

        // 定义画布偏移量
        let offsetX = 0;
        let offsetY = 0;

        function drawSquare(x, y, size) {
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height); // 清除画布

            // 绘制正方形
            ctx.beginPath();
            ctx.rect(x - offsetX, y - offsetY, size, size);
            ctx.fillStyle = "red";
            ctx.fill();
            ctx.closePath();
        }


        container.addEventListener("scroll", function () {
            offsetX = container.scrollLeft;
            offsetY = container.scrollTop;
            /* offsetX = 1200;
            offsetY = 600; */
            //console.log(offsetX, offsetY);
            //drawSquare(1000, 500, 50); // 重新绘制正方形

        });

        drawSquare(1000, 500, 100);


    </script>
</body>

</html>